---
title: "[알고리즘] 최대 선 연결하기"
tag:
- dp
- 다이나믹 프로그래밍
- 알고리즘
categories:
- algorithm
---

# (문제) 최대 선 연결하기
---

왼쪽의 번호와 오른쪽의 번호가 있는 그림에서 같은 번호끼리 선으로 연결하려고 합니다.

왼쪽번호는 무조건 위에서부터 차례로 1부터 N까지 오름차순으로 나열되어 있습니다.

오른쪽의 번호 정보가 위부터 아래 순서로 주어지만 서로 선이 겹치지 않고 최대 몇 개의 선을 연결할 수 있는 지 구하는 프로그램을 작성하세요.

![]({{ 'assets/images/algorithm/line-connect/line_connect.PNG' | relative_url }})<br><br>

위의 그림은 오른쪽 번호 정보가 4 1 2 3 9 7 5 6 10 8 로 입력되었을 때 선이 서로 겹치지 않고 연결할 수 있는 최대 선을 개수 6을 구한 경우입니다.



> **입력설명**

첫 줄에 자연수 N(1<=N<=100)이 주어집니다.

두 번째 줄에 1부터 N까지의 자연수 N개의 오른쪽 번호 정보가 주어집니다. 순서는 위쪽번호 부터 아래쪽번호 순으로입니다.

> **출력설명**

첫 줄에 겹치지 않고 그을 수 있는 최대선의 개수를 출력합니다.


> **테스트케이스**
 

| 입력예제 | 출력예제 |
| -------- | -------- | 
| 10<br>4 1 2 3 9 7 5 6 10 8 | 6 | 
| 10<br>3 2 5 4 1 6 10 9 7 8  | 5 | 
| 20<br>10 11 8 7 4 18 9 2 13 16 17 5 20 14 12 15 19 1 3 6  | 6 | 

---
# 해결방법

최대 부분 순열 구하는 방식과 똑같다라고 생각하면 된다.

1, 2, 3, 4 .... , 10 과 가장 많은 선을 연결하려면 **"증가되는 수열"** 이어야 한다!

다이나믹 프로그래밍을 이용하여 문제를 해결한다.

전에 연결 될 수 있는 수열들 중 가장 길게 연결될 수 있는 것의 값을 dt안에 넣으면서 작업을 한다!

(참고 해설 주소)

[https://cwadven.github.io/algorithm/longest-seq/](https://cwadven.github.io/algorithm/longest-seq/)

---
# 코드
```python
n = int(input())

line = list(map(int, input().split()))

dt = [0] * n

# 맨 처음은 무조건 1개
dt[0] = 1

for i in range(1, n):
    _max = 0
    # 그 전에 있는 것 까지 확인 연결 되어있는지?
    for j in range(i-1, -1, -1):
        if line[j] < line[i]:
            if dt[j] > _max:
                _max = dt[j]
    
    dt[i] = _max + 1

print(max(dt))
```
